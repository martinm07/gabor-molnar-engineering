var It=Object.defineProperty;var Mt=(t,e,n)=>e in t?It(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var st=(t,e,n)=>(Mt(t,typeof e!="symbol"?e+"":e,n),n),Fe=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var Z=(t,e,n)=>(Fe(t,e,"read from private field"),n?n.call(t):e.get(t)),he=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Ue=(t,e,n,r)=>(Fe(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var it=(t,e,n)=>(Fe(t,e,"access private method"),n);import{i as gt,S as Nt,a as j,o as At,b as Rt,d as Ot,s as z,c as Ce,e as A,U as ee,g as Re,m as xe,f as E,h as we,u as q,j as Vt,k as ve,r as ye,l as re,p as ce,E as bt,n as Dt,q as xt,I as Lt,t as Ye,v as ke,w as Je,x as ze,y as qt,z as Ft,A as Ut,B as Qe,C as jt,D as Gt,F as zt,G as Xe,H as Bt,J as Ht,K as Be,L as Oe,M as F,N as Wt,O as ot,P as Ie,Q as Kt,R as Zt,T as ge,V as Yt,W as Jt,X as Qt,Y as Xt,Z as $t,_ as en,$ as tn,a0 as nn,a1 as rn,a2 as je,a3 as Le,a4 as Q,a5 as k,a6 as X,a7 as O,a8 as N,a9 as h,aa as V,ab as H,ac as ae,ad as an,ae as G,af as ie,ag as $e,ah as sn}from"../../shared/js/svelte-RF-eauUH.js";import{f as Ee,r as on,t as ln,s as un,a as et}from"../../shared/js/helper-kVxyI5r2.js";/* empty css                          */import{s as de,a as tt,b as cn,c as dn}from"../../shared/js/attributes-DH8p9ely.js";function ne(t,e=!0,n=null,r){if(typeof t=="object"&&t!=null&&!gt(t)&&!(Nt in t)){if(j in t){const s=t[j];if(s.t===t||s.p===t)return s.p}const a=Vt(t);if(a===At||a===Rt){const s=new Proxy(t,fn);return Ot(t,j,{value:{s:new Map,v:z(0),a:Ce(t),i:e,p:s,t},writable:!0,enumerable:!1}),s}}return t}function lt(t,e=1){A(t,t.v+e)}const fn={defineProperty(t,e,n){if(n.value){const r=t[j],a=r.s.get(e);a!==void 0&&A(a,ne(n.value,r.i,r))}return Reflect.defineProperty(t,e,n)},deleteProperty(t,e){const n=t[j],r=n.s.get(e),a=n.a,s=delete t[e];if(a&&s){const l=n.s.get("length"),o=t.length-1;l!==void 0&&l.v!==o&&A(l,o)}return r!==void 0&&A(r,ee),s&&lt(n.v),s},get(t,e,n){var s;if(e===j)return Reflect.get(t,j);const r=t[j];let a=r.s.get(e);if(a===void 0&&(!(e in t)||(s=Re(t,e))!=null&&s.writable)&&(a=(r.i?z:xe)(ne(t[e],r.i,r)),r.s.set(e,a)),a!==void 0){const l=E(a);return l===ee?void 0:l}return Reflect.get(t,e,n)},getOwnPropertyDescriptor(t,e){const n=Reflect.getOwnPropertyDescriptor(t,e);if(n&&"value"in n){const a=t[j].s.get(e);a&&(n.value=E(a))}return n},has(t,e){var s;if(e===j)return!0;const n=t[j],r=Reflect.has(t,e);let a=n.s.get(e);return(a!==void 0||we!==null&&(!r||(s=Re(t,e))!=null&&s.writable))&&(a===void 0&&(a=(n.i?z:xe)(r?ne(t[e],n.i,n):ee),n.s.set(e,a)),E(a)===ee)?!1:r},set(t,e,n,r){const a=t[j];let s=a.s.get(e);s===void 0&&(q(()=>r[e]),s=a.s.get(e)),s!==void 0&&A(s,ne(n,a.i,a));const l=a.a,o=!(e in t);if(l&&e==="length")for(let c=n;c<t.length;c+=1){const i=a.s.get(c+"");i!==void 0&&A(i,ee)}if(t[e]=n,o){if(l){const c=a.s.get("length"),i=t.length;c!==void 0&&c.v!==i&&A(c,i)}lt(a.v)}return!0},ownKeys(t){const e=t[j];return E(e.v),Reflect.ownKeys(t)}};function vn(t){throw new Error("lifecycle_outside_component")}let mn=!1;function B(t,e,n,r=null,a=!1){var s=null,l=null,o=null,c=a?bt:0;ve(()=>{o!==(o=!!e())&&(o?(s?ye(s):s=re(()=>n(t)),l&&ce(l,()=>{l=null})):(l?ye(l):r&&(l=re(()=>r(t))),s&&ce(s,()=>{s=null})))},c)}function pn(t,e,n){let r=ee,a;ve(()=>{Dt(r,r=e())&&(a&&ce(a),a=re(()=>n(t)))})}let le=null;function ut(t){le=t}function ct(t,e){return e}function _n(t,e,n){for(var r=[],a=t.length,s=0;s<a;s++)qt(t[s].e,r,!0);var l=a>0&&r.length===0&&e!==null;if(l){var o=e.parentNode;Ft(o),o.append(e),n.clear(),$(t[0].prev,t[a-1].next)}Ut(r,()=>{for(var c=0;c<a;c++){var i=t[c];l||(n.delete(i.k),i.o.remove(),$(i.prev,i.next)),Qe(i.e,!l)}})}function dt(t,e,n,r,a,s=null){var l={flags:e,items:new Map,next:null},o=null;ve(()=>{var c=n(),i=Ce(c)?c:c==null?[]:Array.from(c),x=i.length,u=l.flags;u&ze&&!gt(i)&&!(j in i)&&(u^=ze,u&Gt&&!(u&ke)&&(u^=ke)),hn(i,l,t,a,u,r),s!==null&&(x===0?o?ye(o):o=re(()=>s(t)):o!==null&&ce(o,()=>{o=null}))})}function hn(t,e,n,r,a,s){var U,W,Me,Ne;var l=(a&jt)!==0,o=(a&(ke|Je))!==0,c=t.length,i=e.items,x=e.next,u=x,b=new Set,f=e,v=new Set,_=[],p=[],g,w,d,m;if(l)for(m=0;m<c;m+=1)g=t[m],w=s(g,m),d=i.get(w),d!==void 0&&((U=d.a)==null||U.measure(),v.add(d));for(m=0;m<c;m+=1){if(g=t[m],w=s(g,m),d=i.get(w),d===void 0){var T=xt(),P=u?u.o:n;P.before(T),f=bn(T,P,f,f.next,g,w,m,r,a),i.set(w,f),_=[],p=[],u=f.next;continue}if(o&&gn(d,g,m,a),d.e.f&Lt&&(ye(d.e),l&&((W=d.a)==null||W.unfix(),v.delete(d))),d!==u){if(b.has(d)){if(_.length<p.length){var C=p[0],S;f=C.prev;var L=_[0],R=_[_.length-1];for(S=0;S<_.length;S+=1)ft(_[S],C,n);for(S=0;S<p.length;S+=1)b.delete(p[S]);$(L.prev,R.next),$(f,L),$(R,C),u=C,f=R,m-=1,_=[],p=[]}else b.delete(d),ft(d,u,n),$(d.prev,d.next),$(d,f.next),$(f,d),f=d;continue}for(_=[],p=[];u!==null&&u.k!==w;)b.add(u),p.push(u),u=u.next;if(u===null)continue;d=u}_.push(d),f=d,u=d.next}const D=Array.from(b);for(;u!==null;)D.push(u),u=u.next;var y=D.length;if(y>0){var I=a&zt&&c===0?n:null;if(l){for(m=0;m<y;m+=1)(Me=D[m].a)==null||Me.measure();for(m=0;m<y;m+=1)(Ne=D[m].a)==null||Ne.fix()}_n(D,I,i)}l&&Ye(()=>{var se;for(d of v)(se=d.a)==null||se.apply()})}function gn(t,e,n,r){r&ke&&A(t.v,e),r&Je?A(t.i,n):t.i=n}function bn(t,e,n,r,a,s,l,o,c){var i=le;try{var x=(c&ke)!==0,u=(c&ze)===0,b=x?u?xe(a):z(a):a,f=c&Je?z(l):l,v={i:f,v:b,k:s,a:null,e:null,o:t,prev:n,next:r};return n.next=v,r!==null&&(r.prev=v),le=v,v.e=re(()=>o(e,b,f)),v}finally{le=i}}function ft(t,e,n){for(var r=t.next?t.next.o:n,a=e?e.o:n,s=t.o;s!==r;){var l=s.nextSibling;a.before(s),s=l}}function $(t,e){t.next=e,e!==null&&(e.prev=t)}function xn(t,e){const n=t.dom;if(Ce(n)){for(let r=n.length-1;r>=0;r--)if(e.includes(n[r])){n.splice(r,1);break}}else n!==null&&e.includes(n)&&(t.dom=null)}function wn(t,e,n,r){var l;const a=t.parentNode!==((l=we)==null?void 0:l.dom)?we:null;let s=Oe(e);Xe(()=>{var o=yn(t,a,E(s));if(o)return()=>{a!==null&&xn(a,Ce(o)?o:[o]),Bt(o)}})}function yn(t,e,n,r,a){var s=n+"",l=Ht(s);if(l.childNodes.length===1){var o=l.firstChild;return t.before(o),e!==null&&Be(o,e),o}var c=[...l.childNodes];return t.before(l),e!==null&&Be(c,e),c}function He(t,e,...n){var r,a;ve(()=>{r!==(r=t())&&(a&&(Qe(a),a=null),r&&(a=re(()=>r(e,...n))))},bt)}function kn(t,e){let n,r;ve(()=>{n!==(n=t())&&(r&&(ce(r),r=null),n&&(r=re(()=>e(n))))})}function En(t,e,n){const r=t.dom;if(Ce(r)){for(let a=0;a<r.length;a++)if(r[a]===e){r[a]=n;break}}else r===e&&(t.dom=n)}function Sn(t,e,n,r,a,s){const l=we;let o,c,i=null,x=t,u,b=le;ve(()=>{const f=e()||null,v=f==="svg"?Wt:null;if(f!==o){var _=le;return ut(b),u&&(f===null?ce(u,()=>{u=null,c=null,i==null||i.remove()}):f===c?ye(u):(Qe(u),ot(!1))),f&&f!==c&&(u=re(()=>{const p=i;if(i=v?document.createElementNS(v,f):document.createElement(f),r){var g=i.appendChild(xt());r(i,g)}return x.before(i),p?(En(l,p,i),p.remove()):Be(i,l),F})),o=f,o&&(c=o),ot(!0),ut(_),F}})}function We(t,e,n){Ie(()=>{var r=q(()=>e(t,n==null?void 0:n())||{});if(n&&(r!=null&&r.update)){var a=!1;Xe(()=>{var s=n();Kt(s),a&&r.update(s)}),a=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}function be(t,e){var n=t.__className,r=Pn(e);(n!==r||mn)&&(e==null?t.removeAttribute("class"):t.className=r,t.__className=r)}function Pn(t){return t??""}const wt=typeof window<"u",Tn=wt?requestAnimationFrame:F,Cn=wt?()=>performance.now():()=>Date.now(),J={tick:t=>Tn(t),now:()=>Cn(),tasks:new Set};function yt(t){J.tasks.forEach(e=>{e.c(t)||(J.tasks.delete(e),e.f())}),J.tasks.size!==0&&J.tick(yt)}function In(t){let e;return J.tasks.size===0&&J.tick(yt),{promise:new Promise(n=>{J.tasks.add(e={c:t,f:n})}),abort(){J.tasks.delete(e)}}}function vt(t,e){t.dispatchEvent(new CustomEvent(e))}function Mn(t){const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function Nn(t){const e={},n=t.split(";");for(const r of n){const[a,s]=r.split(":");if(!a||s===void 0)break;const l=Mn(a.trim());e[l]=s.trim()}return e}const An=t=>t;function Rn(t,e,n,r){var a=(t&Yt)!==0,s="in",l,o=e.inert,c,i;function x(){return l??(l=n()(e,r==null?void 0:r(),{direction:s}))}var u={is_global:a,in(){e.inert=o,vt(e,"introstart"),c=kt(e,x(),i,1,()=>{vt(e,"introend"),c=l=void 0})},out(f){f==null||f()},stop:()=>{c==null||c.abort()}},b=we;(b.transitions??(b.transitions=[])).push(u),Zt&&Ie(()=>{q(()=>u.in())})}function kt(t,e,n,r,a){if(ge(e)){var s;return Ye(()=>{var P=e({direction:"in"});s=kt(t,P,n,r,a)}),{abort:()=>s.abort(),deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:P=>s.t(P)}}if(!(e!=null&&e.duration))return a==null||a(),{abort:F,deactivate:F,reset:F,t:()=>r};var{delay:l=0,duration:o,css:c,tick:i,easing:x=An}=e,u=J.now()+l,b=1-r,f=r-b;o*=Math.abs(f);var v=u+o,_,p;if(c){for(var g=[],w=Math.ceil(o/16.666666666666668),d=0;d<=w;d+=1){var m=b+f*x(d/w),T=c(m,1-m);g.push(Nn(T))}_=t.animate(g,{delay:l,duration:o,easing:"linear",fill:"forwards"}),_.finished.then(()=>{a==null||a(),_.cancel()}).catch(P=>{if(_.startTime!==null&&_.currentTime!==null)throw P})}else i==null||i(0,1),p=In(P=>{if(P>=v)return i==null||i(r,1-r),a==null||a(),!1;if(P>=u){var C=b+f*x((P-u)/o);i==null||i(C,1-C)}return!0});return{abort:()=>{_==null||_.cancel(),p==null||p.abort()},deactivate:()=>{a=void 0},reset:()=>{},t:P=>{var C=b+f*x((P-u)/o);return Math.min(1,Math.max(0,C))}}}var te,ue,Te,Ve,Et;const De=class De{constructor(e){he(this,Ve);he(this,te,new WeakMap);he(this,ue,void 0);he(this,Te,void 0);Ue(this,Te,e)}observe(e,n){var r=Z(this,te).get(e)||new Set;return r.add(n),Z(this,te).set(e,r),it(this,Ve,Et).call(this).observe(e,Z(this,Te)),()=>{var a=Z(this,te).get(e);a.delete(n),a.size===0&&(Z(this,te).delete(e),Z(this,ue).unobserve(e))}}};te=new WeakMap,ue=new WeakMap,Te=new WeakMap,Ve=new WeakSet,Et=function(){return Z(this,ue)??Ue(this,ue,new ResizeObserver(e=>{for(var n of e){De.entries.set(n.target,n);for(var r of Z(this,te).get(n.target)||[])r(n)}}))},st(De,"entries",new WeakMap);let Ke=De;var On=new Ke({box:"border-box"});function mt(t,e,n){var r=On.observe(t,()=>n(t[e]));Ie(()=>(n(t[e]),r))}function pt(t,e){var r;var n=t&&((r=t[j])==null?void 0:r.t);return t===e||n===e}function fe(t,e,n,r){Ie(()=>{var a,s;return Xe(()=>{a=s,s=(r==null?void 0:r())||[],q(()=>{t!==n(...s)&&(e(t,...s),a&&pt(n(...a),t)&&e(null,...a))})}),()=>{Ye(()=>{s&&pt(n(...s),t)&&e(null,...s)})}})}const Vn={get(t,e){if(!t.exclude.includes(e))return t.props[e]},set(t,e){return!1},getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e)&&e in t.props)return{enumerable:!0,configurable:!0,value:t.props[e]}},has(t,e){return t.exclude.includes(e)?!1:e in t.props},ownKeys(t){return Reflect.ownKeys(t.props).filter(e=>!t.exclude.includes(e))}};function St(t,e,n){return new Proxy({props:t,exclude:e},Vn)}const Dn={get(t,e){let n=t.props.length;for(;n--;){let r=t.props[n];if(ge(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r)return r[e]}},getOwnPropertyDescriptor(t,e){let n=t.props.length;for(;n--;){let r=t.props[n];if(ge(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r)return Re(r,e)}},has(t,e){for(let n of t.props)if(ge(n)&&(n=n()),n!=null&&e in n)return!0;return!1},ownKeys(t){const e=[];for(let n of t.props){ge(n)&&(n=n());for(const r in n)e.includes(r)||e.push(r)}return e}};function Ln(...t){return new Proxy({props:t},Dn)}function Y(t,e,n,r){var g;var a=(n&en)!==0,s=(n&tn)!==0,l=(n&rn)!==0,o=t[e],c=(g=Re(t,e))==null?void 0:g.set,i=r,x=!0,u=()=>(l&&x&&(x=!1,i=q(r)),i);o===void 0&&r!==void 0&&(c&&s&&Jt(),o=u(),c&&c(o));var b;if(s)b=()=>{var w=t[e];return w===void 0?u():(x=!0,w)};else{var f=(a?Oe:nn)(()=>t[e]);f.f|=Qt,b=()=>{var w=E(f);return w!==void 0&&(i=void 0),w===void 0?i:w}}if(!(n&Xt))return b;if(c)return function(w){return arguments.length===1?(c(w),w):b()};var v=!1,_=xe(o),p=Oe(()=>{var w=b(),d=E(_);return v?(v=!1,d):_.v=w});return a||(p.equals=$t),function(w){var d=E(p);return arguments.length>0?(p.equals(w)||(v=!0,A(_,w),E(p),p.version++),w):d}}function Pt(t,e,n){if(t==null)return e(void 0),F;const r=t.subscribe(e,n);return r.unsubscribe?()=>r.unsubscribe():r}function me(t,e,n){let r=n[e];const a=r===void 0;a&&(r={store:null,last_value:null,value:xe(ee),unsubscribe:F},n[e]=r),(a||r.store!==t)&&(r.unsubscribe(),r.store=t??null,r.unsubscribe=qn(t,r.value));const s=E(r.value);return s===ee?r.last_value:s}function qn(t,e){return t==null?(A(e,void 0),F):Pt(t,n=>A(e,n))}function pe(t){Fn(()=>{let e;for(e in t)t[e].unsubscribe()})}function Se(t,e,n){return t.set(n),e}function Fn(t){Ie(()=>()=>q(t))}function _e(t){je===null&&vn(),je.l!==null?Un(je).m.push(t):Le(()=>{const e=q(t);if(typeof e=="function")return e})}function Un(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const oe=[];function jn(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Gn(t,e=F){let n=null;const r=new Set;function a(o){if(jn(t,o)&&(t=o,n)){const c=!oe.length;for(const i of r)i[1](),oe.push(i,t);if(c){for(let i=0;i<oe.length;i+=2)oe[i][0](oe[i+1]);oe.length=0}}}function s(o){a(o(t))}function l(o,c=F){const i=[o,c];return r.add(i),r.size===1&&(n=e(a,s)||F),o(t),()=>{r.delete(i),r.size===0&&n&&(n(),n=null)}}return{set:a,update:s,subscribe:l}}function K(t){let e;return Pt(t,n=>e=n)(),e}const Pe=["name","emailpass","passconfirm","congrats"],Ge=new URLSearchParams(window.location.search).get("page"),zn=Ge&&Pe.includes(Ge)?Ge:Pe[0];function Tt(t){return"congrats"}const M=Gn({page:zn,doTransition:!1,finished:!1});Ee("/register/get_session_state").then(t=>t.json()).then(t=>{M.update(e=>Object.assign(e,{name:t.username,email:t.email,password:t.password})),nt(Tt(K(M).page),!1)});function nt(t,e=!1){if(!Pe.includes(t))throw new Error(`Unexpected value for newPage. Got '${t}' but expected one of ${Pe.map(r=>"'"+r+"'").join(", ")}.`);M.update(r=>Object.assign(r,{page:t,doTransition:e}));const n=new URLSearchParams(window.location.search);n.set("page",t),history.pushState(K(M),"","?"+n.toString())}window.addEventListener("popstate",t=>{var r;if(K(M).finished)return;const e=((r=t==null?void 0:t.state)==null?void 0:r.page)??Pe[0],n=Tt();if(e!==n){nt(n,!1);return}M.update(a=>Object.assign(a,{page:e,doTransition:!1}))});var Bn=O('<div class="absolute w-screen h-screen bg-background-200 -z-10"></div> <div class="absolute w-screen h-screen flex items-center justify-center"><div class="absolute flex flex-col md:w-1/2 w-5/6 h-4/5 bg-background rounded-md p-4"><h1 class="shrink text-center font-serif text-dark text-4xl">Registration</h1> <!></div></div>',1);function Ae(t,e){Q(e,!0);const n={};pe(n);const r=()=>me(M,"$state_",n),a=500;let s,l=[];_e(()=>{for(const v of s.querySelectorAll("[data-transition-delay]")){if(!(v instanceof HTMLElement))throw new Error(`Only HTML elements can be transitions. Got ${v}`);l.push(v)}r().doTransition&&(l.forEach(v=>v.style.opacity="0"),on(()=>{for(const v of l){const _=Number.parseFloat(v.dataset.transitionDelay??"0");v.style.transitionDelay=`${_}ms`,v.style.transitionDuration=`${a}ms`,v.style.transitionProperty="opacity",v.style.opacity="1"}}),Se(M,q(r).doTransition=!1,q(r)))});function o(v){let _=0;for(const p of l){const g=Number.parseFloat(p.dataset.transitionDelay??"0");p.style.transitionDelay=`${g}ms`,p.style.transitionDuration=`${a}ms`,p.style.transitionProperty="opacity",p.style.opacity="0",g>_&&(_=g)}setTimeout(()=>nt(v,!0),l.length>0?_+a:0)}var c=Bn(),i=V(c),x=h(h(i,!0)),u=N(x);fe(u,v=>s=v,()=>s);var b=N(u),f=h(h(b,!0));kn(()=>e.card,v=>{v(f,{transitionpage:o})}),k(t,c),X()}var Hn=O("<label> </label>"),Wn=O('<label><span class="bg-none relative"><!></span></label>'),Kn=O("<div><!> <div><input> <!></div></div>");const _t=["text","date","datetime-local","email","month","number","password","search","tel","time","url","week"];function Zn(t,e){Q(e,!0);let n=Y(e,"class",3,""),r=Y(e,"statusclass",3,""),a=Y(e,"outerclass",3,""),s=Y(e,"wrapperclass",3,""),l=Y(e,"labelclass",3,""),o=St(e,["inpId","statusCodeNameMsg","class","statusclass","outerclass","wrapperclass","labelclass","label"]);if(o.type&&!_t.includes(o.type))throw new Error(`Type of input is not allowed. Got '${o.type}''. Expected one of ${_t.map(y=>"'"+y+"'").join(", ")}.`);let c=z("");const i=()=>E(c),x=y=>A(c,ne(y));let u=z(ne({result:-2})),b=z(!1),f=z(!1);function v(y,I){A(b,!I),I&&A(f,!E(f)),A(u,ne(y))}const _=y=>{const I=y.firstElementChild;if(!I||!(I instanceof HTMLElement))throw new Error("Text needs to be contained in a span");return y.style.width=`${I.offsetWidth+1}px`,{update:()=>{y.style.removeProperty("width"),y.style.width=`${I.offsetWidth+1}px`}}};let p;const g=()=>p.setCustomValidity(""),w=()=>{setTimeout(()=>p.focus())},d=y=>{if(!(y instanceof HTMLInputElement))throw new Error("Element needs to be an input");y.setCustomValidity("bad"),p=y};var m=Kn(),T=N(m);B(T,()=>e.label,y=>{var I=Hn(),U=N(I);H(()=>{de(I,"for",e.inpId),be(I,`base-text-input-label ${l()??""}`),ae(U,e.label)}),k(y,I)});var P=h(h(T,!0)),C=(y,I=F,U=F)=>{var W=Wn();Rn(5,W,()=>ln,()=>({duration:400,disable:E(b)}));var Me=N(W),Ne=N(Me);B(Ne,U,se=>{var qe=G(),Ct=V(qe);wn(Ct,U),k(se,qe)}),H(()=>{be(W,`base-text-input-status ${I()??""} ${r()??""}`),de(W,"for",e.inpId)}),We(W,(se,qe)=>_(se),U),k(y,W)},S=N(P),L=()=>E(u).result=-2;let R;var D=h(h(S,!0));return pn(D,()=>E(f),y=>{var I=G(),U=V(I);C(U,()=>E(u).result===-1?"err text-red-500":E(u).result===1?"succ text-green-500 !w-5 text-xl !cursor-default":E(u).result===0?"pending text-stone-500":"",()=>E(u).result===1?'<ion-icon class="w-5" name="checkmark-outline"></ion-icon>':E(u).result===-1||E(u).result===0?e.statusCodeNameMsg(E(u).code??"").msg:""),k(y,I)}),H(()=>{be(m,`base-text-input-wrapper ${s()??""}`),be(P,`base-text-input-outer ${a()??""}`),R=tt(S,R,{class:`base-text-input ${n()??""}`,type:o.type??"text",name:"name",id:e.inpId,disabled:E(u).result===0||E(u).result===1,oninput:L,...o},!0,"")}),an(S,()=>E(c),y=>A(c,y)),We(S,y=>d(y)),k(t,m),X({getValue:i,setValue:x,setValidState:v,setInputToValid:g,focus:w})}var Yn=O("<input>"),Jn=O('<input class="border-2 border-stone-500 px-4 py-2 rounded-lg text-stone-500 font-bold cursor-pointer mt-6" type="submit" value="Submit">'),Qn=O('<div class="text-red-500 text-center absolute bottom-0 translate-y-full text-balance"> </div>'),Xn=O("<div><!> <!> <!> <!></div>");function rt(t,e){Q(e,!0);let n=Y(e,"hiddeninputs",11,()=>[]),r=Y(e,"formclass",3,""),a=Y(e,"resubmitValidated",3,!0);const s=e.inputs.map(({name:d})=>d);if(new Set(s).size!==e.inputs.length)throw new Error(`All names must be unique. Got ${s}`);let l=!1,o;async function c(d){var P,C;if(l){l=!1;return}A(x,null),console.log(i),i.forEach(S=>S==null?void 0:S.setValidState({result:0,code:""},!1));const m=[],T=e.inputs.map(({validateFunc:S},L)=>S(i[L].getValue()).then(R=>{var D,y;R.result===-1?((D=i[L])==null||D.setValidState(R,!0),m.push(L)):(y=i[L])==null||y.setValidState({result:-2},!1)}));if(await Promise.all(T),m.length>0)(P=i.find((S,L)=>m.includes(L)))==null||P.focus();else{const S=i.reduce((R,D,y)=>({...R,[e.inputs[y].name]:D.getValue()}),{}),L=await e.submitFunc(S);if(L.result===-1){const R=[];for(const D of un(L.code??"GER")){const{input:y,msg:I}=e.statusCodeNameMsg(D),U=e.inputs.findIndex(({name:W})=>y===W);U===-1?A(x,ne(I)):(i[U].setValidState({result:-1,code:I},!0),R.push(U))}(C=i.find((D,y)=>R.includes(y)))==null||C.focus(),i.forEach((D,y)=>!R.includes(y)&&D.setValidState({result:-2},!1))}else L.result===1&&(i.forEach(R=>R.setValidState({result:1},!1)),e.onsuccess&&e.onsuccess(),a()&&setTimeout(()=>{i.forEach(R=>R&&R.setInputToValid()),l=!0,o.click()}))}}let i=Array(e.inputs.length),x=z(null);const u=d=>{const m=d.querySelector("[type=submit]");if(!m)throw new Error("submitBtn snippter must have a button/input of type 'submit'");o=m};function b(d){const m=e.inputs.findIndex(T=>T.name===d);if(m===-1)throw new Error(`Name not found. Expected one of ${e.inputs.map(T=>"'"+T.name+"'").join(", ")}. Got '${d}'`);return i[m].getValue()}function f(d,m){const T=e.inputs.findIndex(P=>P.name===d);if(T===-1)throw new Error(`Name not found. Expected one of ${e.inputs.map(P=>"'"+P.name+"'").join(", ")}. Got '${d}'`);return i[T].setValue(m)}_e(()=>{function d(m){m.preventDefault(),c()}return document.addEventListener("submit",d),()=>document.removeEventListener("submit",d)});var v=Xn(),_=N(v);dt(_,65,n,ct,(d,m,T)=>{var P=Yn();let C;H(()=>C=tt(P,C,{type:"hidden",...ie(m)},!0,"")),k(d,P)});var p=h(h(_,!0));dt(p,65,()=>e.inputs,ct,(d,m,T)=>{var P=G(),C=V(P);fe(Zn(C,Ln({get inpId(){return ie(m).name},get label(){return ie(m).label},get statusCodeNameMsg(){return e.statusCodeNameMsg},get statusclass(){return ie(m).statusclass}},()=>ie(m).inputAttrs)),(S,L)=>i[L]=S,S=>i==null?void 0:i[S],()=>[ie(T)]),k(d,P)});var g=h(h(p,!0));B(g,()=>e.submitBtn,d=>{var m=G(),T=V(m);He(()=>e.submitBtn,T),k(d,m)},d=>{var m=Jn();fe(m,T=>o=T,()=>o),k(d,m)});var w=h(h(g,!0));return B(w,()=>E(x),d=>{var m=Qn(),T=N(m);H(()=>ae(T,E(x))),k(d,m)}),H(()=>be(v,`relative max-w-full ${r()??""}`)),We(v,d=>u(d)),k(t,v),X({getValue:b,setValue:f})}var $n=O('<div class="my-1 flex justify-center"><a class="py-1 px-3 border-2 bg-rock-200 border-rock-800 text-dark font-bold text-lg rounded inline-flex items-center justify-center hover:bg-rock-300 active:bg-rock-400"><ion-icon class="mr-2 text-xl"></ion-icon> </a></div>',2),er=O('<button type="submit" class="snap-press border-2 border-rock-800 bg-rock-400 p-3 rounded relative flex items-center justify-end shadow-[inset_-7px_-7px] shadow-steel-200 group transition-[margin-right] hover:-mr-4 hover:bg-rock-500 hover:shadow-rock-500 active:mr-0 active:bg-rock-600 active:shadow-rock-600 h-14 mt-3 ml-auto sm:ml-2 sm:mt-0"><div class="h-1 w-6 bg-rock-800 rounded-xl group-hover:w-10 transition-[width] group-hover:bg-rock-950 group-active:w-6 group-active:bg-rock-950"></div> <div class="absolute -mr-1"><div class="rotate-45 h-1 w-4 bg-rock-800 mb-1.5 group-hover:bg-rock-950 group-active:bg-rock-950"></div> <div class="-rotate-45 h-1 w-4 bg-rock-800 group-hover:bg-rock-950 group-active:bg-rock-950"></div></div></button>'),tr=(t,e)=>e.transitionpage("emailpass"),nr=O('<button type="button" data-transition-delay="100" class="absolute bottom-0 right-0 px-4 py-2 flex items-center text-lg hover:underline active:no-underline text-text active:text-text-600">Go forward<ion-icon name="arrow-forward" class="text-xl ml-1"></ion-icon></button>',2),rr=O('<h2 class="text-center shrink text-dark" data-transition-delay="0">Already have an account? <a class="text-blue-400 underline hover:no-underline">Log in</a>.</h2> <div class="grow flex items-center justify-center relative" data-transition-delay="250"><div class="absolute w-full h-full bg-steel-100 z-0" style="clip-path: polygon(0 75%, 100% 0, 100% 31%, 0% 100%);"></div> <div class="flex z-10"><!></div></div> <div class="text-center" data-transition-delay="500"><h2 class="text-2xl mb-3">Or, sign up with...</h2> <div><!> <!> <!></div></div> <!>',1);async function ar(t){const e=t.trim();return e.length===0?{result:-1,code:"UNM"}:e.length<3?{result:-1,code:"UNS"}:{result:1}}async function sr({name:t}){if(typeof t>"u")return{result:-1,code:"UNM"};if(t===K(M).name)return{result:1};let e;try{K(M).name||await Ee("/register/set_loginmode",{method:"POST",body:"password",headers:{"Content-Type":"text/plain"}}),e=await Ee("/register/add_username",{method:"POST",body:t,headers:{"Content-Type":"text/plain"}})}catch{return{result:-1}}const n=await e.json();return{result:n.result?1:-1,code:n.code}}function ir(t,e){Q(e,!0);const n={};pe(n);const r=()=>me(M,"$state_",n);var a=(C,S=F,L=F,R=F)=>{var D=$n(),y=N(D),I=N(y),U=h(I,!0);H(()=>{de(y,"href",urlRoot+R()),cn(I,"name",L()),ae(U,S())}),k(C,D)};Le(()=>{s.setValue("name",r().name??"")}),_e(()=>{et(document.querySelector(".snap-press"),["margin-right","width"])});let s,l=z(!1);function o(){Se(M,q(r).name=s.getValue("name"),q(r)),A(l,!0),e.transitionpage("emailpass")}var c=rr(),i=V(c),x=h(N(i));de(x,"href",urlRoot+"login");var u=h(h(i,!0)),b=N(u),f=h(h(b,!0)),v=N(f);{var _=C=>{var S=er();k(C,S)};fe(rt(v,{inputs:[{name:"name",inputAttrs:{placeholder:"your-username",class:"w-64 shadow-[inset_-7px_-7px_var(--steel-100)] focus:shadow-[inset_-7px_-7px_var(--steel-100),0_0_0_3px_var(--background),0_0_0_7px_var(--steel-200)] focus:ring-0 transition-shadow duration-100",autocomplete:"name"},statusclass:"bg-steel-100 -mt-[9px]",validateFunc:ar}],statusCodeNameMsg:at,submitFunc:sr,formclass:"block sm:flex",onsuccess:o,submitBtn:_}),C=>s=C,()=>s)}var p=h(h(u,!0)),g=N(p),w=h(h(g,!0)),d=N(w);a(d,()=>"Google",()=>"logo-google",()=>"register/oauth/google");var m=h(h(d,!0));a(m,()=>"GitHub",()=>"logo-github",()=>"register/oauth/github");var T=h(h(m,!0));a(T,()=>"LinkedIn",()=>"logo-linkedin",()=>"register/oauth/linkedin");var P=h(h(p,!0));B(P,()=>r().name&&!E(l),C=>{var S=nr();S.__click=[tr,e],k(C,S)}),k(t,c),X()}$e(["click"]);var or=O('<div class="flex justify-center mt-8 h-14"><button type="submit" class="snap-press border-2 border-rock-800 bg-rock-400 ml-2 px-6 py-3 rounded relative flex items-center justify-end shadow-[inset_-7px_-7px] shadow-steel-200 group transition-[margin-right] hover:-mr-4 hover:bg-rock-500 hover:shadow-rock-500 active:mr-0 active:bg-rock-600 active:shadow-rock-600"><div class="h-1 w-6 bg-rock-800 rounded-xl group-hover:w-10 transition-[width] group-hover:bg-rock-950 group-active:w-6 group-active:bg-rock-950"></div> <div class="absolute -mr-1"><div class="rotate-45 h-1 w-4 bg-rock-800 mb-1.5 group-hover:bg-rock-950 group-active:bg-rock-950"></div> <div class="-rotate-45 h-1 w-4 bg-rock-800 group-hover:bg-rock-950 group-active:bg-rock-950"></div></div></button></div>'),lr=(t,e)=>e.transitionpage("name"),ur=(t,e)=>e.transitionpage("passconfirm"),cr=O('<button type="button" data-transition-delay="100" class="absolute bottom-0 right-0 px-4 py-2 flex items-center text-lg hover:underline active:no-underline text-text active:text-text-600">Go forward<ion-icon name="arrow-forward" class="text-xl ml-1"></ion-icon></button>',2),dr=O('<h2 class="text-2xl ml-10 mt-6 text-steel-500 break-words" data-transition-delay="0"> </h2> <div class="grow flex items-center justify-center relative" data-transition-delay="100"><div class="absolute w-full h-full bg-steel-100 z-0" style="clip-path: polygon(6% 0, 37% 0, 95% 94%, 91% 100%, 65% 100%, 3% 4%); background: linear-gradient(162deg, var(--background) 0%, var(--background) 10%, var(--steel-100) 50%, var(--steel-100) 100%);"></div> <!></div> <button type="button" data-transition-delay="100" class="absolute bottom-0 left-0 px-4 py-2 flex items-center text-lg hover:underline active:no-underline text-text active:text-text-600"><ion-icon name="arrow-back-outline" class="text-xl mr-1"></ion-icon>Go back</button> <!>',3);async function fr(t){const e=t.trim().toLowerCase();return e.length===0?{result:-1,code:"EMM"}:e.match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)?{result:1}:{result:-1,code:"EMI"}}async function vr(t){return t.length===0?{result:-1,code:"PWM"}:{result:1}}async function mr({email:t,password:e}){if(typeof t>"u"||typeof e>"u")return{result:-1,code:"EMM"};if(t===K(M).email&&e===K(M).password)return{result:1};let n;try{n=await Ee("/register/add_email_password",{method:"POST",body:JSON.stringify({email:t,password:e}),headers:{"Content-Type":"application/json"}})}catch{return{result:-1}}const r=await n.json();return{result:r.result?1:-1,code:r.code}}function pr(t,e){Q(e,!0);const n={};pe(n);const r=()=>me(M,"$state_",n);let a,s=z(!1);function l(){Se(M,q(r).email=a.getValue("email"),q(r)),Se(M,q(r).password=a.getValue("password"),q(r)),A(s,!0),e.transitionpage("passconfirm")}Le(()=>{a.setValue("email",r().email??"")}),_e(()=>{et(document.querySelector(".snap-press"),["margin-right","width"])});var o=dr(),c=V(o),i=N(c),x=h(h(c,!0)),u=N(x),b=h(h(u,!0));{var f=p=>{var g=or();k(p,g)};fe(rt(b,{inputs:[{name:"email",inputAttrs:{placeholder:"example@domain.reg",class:"w-72 text-base md:w-72 "+Ze,wrapperclass:"mb-5",labelclass:"text-base ",type:"email",autocomplete:"email"},label:"Email:",validateFunc:fr,statusclass:"bg-steel-100 -mt-[9px]"},{name:"password",inputAttrs:{placeholder:"password",class:"w-72 text-base md:w-72 "+Ze,labelclass:"text-base ",type:"password",autocomplete:"new-password"},label:"Password:",validateFunc:vr,statusclass:"bg-steel-100 -mt-[9px]"}],statusCodeNameMsg:at,submitFunc:mr,onsuccess:l,resubmitValidated:!1,submitBtn:f}),p=>a=p,()=>a)}var v=h(h(x,!0));v.__click=[lr,e];var _=h(h(v,!0));B(_,()=>r().email&&!E(s),p=>{var g=cr();g.__click=[ur,e],k(p,g)}),H(()=>ae(i,`Hello, ${(r().name||"anonymous")??""}!`)),k(t,o),X()}$e(["click"]);var _r=O("<span><!></span> <!>",1);function hr(t,e){Q(e,!0);let n=Y(e,"tag",3,"div"),r=St(e,["tag","spanProps","spanContent","afterSpanContent"]),a,s=z(null),l=z(null);Le(()=>{!E(s)||!E(l)||(a.style.paddingLeft=`${(E(s)-E(l))/2}px`)});var o=G(),c=V(o);Sn(c,n,!1,(i,x)=>{fe(i,g=>a=g,()=>a);let u;H(()=>u=dn(i,u,{...r},"")),mt(i,"clientWidth",g=>A(s,g));var b=_r(),f=V(b);let v;var _=N(f);He(()=>e.spanContent,_);var p=h(h(f,!0));B(p,()=>e.afterSpanContent,g=>{var w=G(),d=V(w);He(()=>e.afterSpanContent,d),k(g,w)}),H(()=>v=tt(f,v,{...e.spanProps},!0,"")),mt(f,"offsetWidth",g=>A(l,g)),k(x,b)}),k(t,o),X()}var gr=O(' <span class="text-sm inline-block -translate-y-0.5"> </span>',1),br=O("<br>Finally,<br>Confirm password:",1),xr=O('<input class="snap-style shadow-[inset_5px_5px_var(--background)] border-2 border-stone-500 px-4 py-2 rounded-lg text-stone-500 font-bold cursor-pointer mt-6 transition-all hover:px-8 hover:ring-4 ring-stone-300 active:px-4 hover:bg-opacity-25 hover:bg-stone-400 active:bg-opacity-40 active:bg-stone-600 active:shadow-none active:text-stone-700" type="submit" value="Finish">'),wr=(t,e)=>e.transitionpage("emailpass"),yr=O('<!> <div class="grow flex items-center justify-center relative" data-transition-delay="100"><div class="absolute w-full h-full bg-steel-100 z-0" style="clip-path: polygon(9% 25%, 100% 59%, 100% 80%, 87% 80%, 0 46%, 0 25%); background: linear-gradient(162deg, var(--background) 0%, var(--background) 10%, var(--steel-100) 50%, var(--steel-100) 100%);"></div> <!></div> <button type="button" data-transition-delay="100" class="absolute bottom-0 left-0 px-4 py-2 flex items-center text-lg hover:underline active:no-underline text-text active:text-text-600"><ion-icon name="arrow-back-outline" class="text-xl mr-1"></ion-icon>Go back</button>',3);async function kr(t){if(!t)return{result:-1,code:"CPM"};const e=K(M).password;return t!==e?{result:-1,code:"PDM"}:{result:1}}async function Er(){let t;try{t=await Ee("/register/finish",{method:"POST"})}catch{return{result:-1}}const e=await t.json();return{result:e.result?1:-1,code:e.code}}function Sr(t,e){Q(e,!0);const n={};pe(n);const r=()=>me(M,"$state_",n);function a(){Se(M,q(r).finished=!0,q(r)),e.transitionpage("congrats")}_e(()=>{et(document.querySelector(".snap-style"),["padding"])});var s=yr(),l=V(s);{var o=_=>{var p=gr(),g=V(p),w=h(g),d=N(w);H(()=>{ae(g,`${(r().name||"martinm07")??""} `),ae(d,`<${(r().email||"martin.molnar07@gmail.com")??""}>`)}),k(_,p)},c=_=>{var p=br();k(_,p)};hr(l,{tag:"h2",class:"text-lg mt-4 text-steel-500","data-transition-delay":"0",spanContent:o,afterSpanContent:c})}var i=h(h(l,!0)),x=N(i),u=h(h(x,!0)),b=Oe(()=>[{type:"text",class:"hidden",name:"name",value:K(M).name,autocomplete:"name"},{type:"email",class:"hidden",name:"email",value:K(M).email,autocomplete:"email"}]);{var f=_=>{var p=xr();k(_,p)};rt(u,{inputs:[{name:"confirmpass",inputAttrs:{type:"password",class:Ze,autocomplete:"new-password"},label:"Repeat Password:",validateFunc:kr,statusclass:"bg-steel-100 -mt-[9px]"}],get hiddeninputs(){return E(b)},statusCodeNameMsg:at,submitFunc:Er,onsuccess:a,formclass:"text-center",submitBtn:f})}var v=h(h(i,!0));v.__click=[wr,e],k(t,s),X()}$e(["click"]);const Pr="/static/auth/img/handwritten-congrats-removebg-preview-7KSe5BLc.png",ht="/static/auth/ttf/IndieFlower-Regular-BeflUZG4.ttf";var Tr=O(`<div class="grow flex flex-col justify-center" data-transition-delay="500"><img class="h-fit" alt="Congratulations!"> <canvas id="name" class="-translate-y-1/2"> </canvas></div> <div class="mb-5 px-5 text-text" data-transition-delay="1500">We have sent an email to your address. Open it within a week and click the
  link to verify your account. Thank you!</div> <a data-transition-delay="1500" class="text-right text-sm text-stone-700 underline w-1/2 ml-auto text-balance hover:no-underline">Prevent this account getting stranded by adding recovery options</a> <div id="load" class="svelte-78dhtj"></div>`,1);function Cr(t,e){Q(e,!0);const n={};pe(n);const r=()=>me(M,"$state_",n);_e(()=>{console.log(ht),new FontFace("Font name",`url(${ht})`).load().then(b=>{document.fonts.add(b);const f=document.getElementById("name"),v=f==null?void 0:f.getContext("2d");if(!v)return;f.width*=window.devicePixelRatio;const _=K(M).name||"anonymous",p="32px 'Font name'",g=-8*Math.PI/180;v.font=p;const w=v.measureText(_),d=Math.abs(Math.sin(g))*w.width/2+Math.cos(g)*w.actualBoundingBoxAscent,m=Math.abs(Math.sin(g))*w.width/2+Math.cos(g)*w.actualBoundingBoxDescent;f.height=Math.ceil(d+m),v.font=p,v.translate(f.width/2,f.height-m),v.rotate(g),v.fillText(_,-w.width/2,0)})});var a=Tr(),s=V(a),l=N(s);de(l,"src",Pr);var o=h(h(l,!0)),c=N(o),i=h(h(s,!0)),x=h(h(i,!0));de(x,"href",urlRoot+"account/recovery"),H(()=>ae(c,r().name)),k(t,a),X()}var Ir=O('<form method="POST" novalidate><!></form>');function at(t){switch(t){case"GER":return{input:null,msg:"An unexpected error has occured. Please try again later."};case"UNM":return{input:"name",msg:"Username is required"};case"UNS":return{input:"name",msg:"Username must be more<br />than 2 characters"};case"UNT":return{input:"name",msg:"Username is already taken"};case"UNP":return{input:"name",msg:"Username was detected as profane"};case"EMM":return{input:"email",msg:"Email is required"};case"EMI":return{input:"email",msg:"Invalid email"};case"EMT":return{input:"email",msg:"Email is already taken"};case"PWM":return{input:"password",msg:"Password is required"};case"CPM":return{input:"confirmpass",msg:"Password is required"};case"PDM":return{input:"confirmpass",msg:"Passwords don't match"};default:return{input:null,msg:t}}}const Ze="shadow-[inset_-7px_-7px_var(--steel-100)] focus:shadow-[inset_-7px_-7px_var(--steel-100),0_0_0_3px_var(--background),0_0_0_7px_var(--steel-200)] focus:ring-0 transition-shadow duration-100";function Mr(t,e){Q(e,!0);const n={};pe(n);const r=()=>me(M,"$state_",n);var a=G(),s=V(a);B(s,()=>r().page!=="congrats",l=>{var o=Ir(),c=N(o);B(c,()=>r().page==="name",i=>{var x=G(),u=V(x);Ae(u,{card:ir}),k(i,x)},i=>{var x=G(),u=V(x);B(u,()=>r().page==="emailpass",b=>{var f=G(),v=V(f);Ae(v,{card:pr}),k(b,f)},b=>{var f=G(),v=V(f);B(v,()=>r().page==="passconfirm",_=>{var p=G(),g=V(p);Ae(g,{card:Sr}),k(_,p)},null,!0),k(b,f)},!0),k(i,x)}),k(l,o)},l=>{var o=G(),c=V(o);B(c,()=>r().page==="congrats",i=>{var x=G(),u=V(x);Ae(u,{card:Cr}),k(i,x)},null,!0),k(l,o)}),k(t,a),X()}sn(Mr,{target:document.getElementById("app")});
