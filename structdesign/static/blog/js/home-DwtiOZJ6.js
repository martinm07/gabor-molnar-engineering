var ie=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var C=(t,e,r)=>(ie(t,e,"read from private field"),r?r.call(t):e.get(t)),T=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},V=(t,e,r,o)=>(ie(t,e,"write to private field"),o?o.call(t,r):e.set(t,r),r);var ce=(t,e,r,o)=>({set _(f){V(t,e,f,r)},get _(){return C(t,e,o)}}),J=(t,e,r)=>(ie(t,e,"access private method"),r);import{b as Fe,O as Ne,v as m,q as Ze,n as Te,F as A,P as ye,Q as ke,R as Le,r as de,a as ue,p as he,S as Oe,V as Xe,L as N,t as s,W as qe,X as Pe,Y as Ue,u as $e,M as X,x as oe,G as K,H as Me,y as L,z as ne,A as B,B as H,C as i,J as M,K as Be,Z as Se,D as U,I as xe,_ as Ae,$ as Ve,N as Je}from"../../shared/js/svelte-Dn3LxMab.js";import{a as _,p as R,e as Ke,k as $,f as Ie,d as He,b as le,g as De,i as se,l as Ee,m as Qe,t as et}from"../../shared/js/index-client-ye65gFmA.js";import{p as tt,f as me}from"../../shared/js/helper-BdH2pwvn.js";/* empty css                               */import{s as Q}from"../../shared/js/attributes-DIkj7TX0.js";/* empty css                      */const fe=0,ae=1,ve=2;function pe(t,e,r,o,f){var a=Xe,l,c,n,d,g=A(void 0),v=A(void 0),D=!1;function k(y,S){D=!0,S&&(ye(x),ke(x),Le(a)),y===fe&&r&&(c?de(c):c=ue(()=>r(t))),y===ae&&o&&(n?de(n):n=ue(()=>o(t,g))),y===ve&&f&&(d?de(d):d=ue(()=>f(t,v))),y!==fe&&c&&he(c,()=>c=null),y!==ae&&n&&he(n,()=>n=null),y!==ve&&d&&he(d,()=>d=null),S&&(Le(null),ke(null),ye(null),Oe())}var x=Fe(()=>{if(l!==(l=e())){if(Ne(l)){var y=l;D=!1,y.then(S=>{y===l&&(m(g,S),k(ae,!0))},S=>{y===l&&(m(v,S),k(ve,!0))}),Ze(()=>{D||k(fe,!0)})}else m(g,l),k(ae,!1);return Te}})}var q,ee,Y,O,te,_e,re,be;class rt{constructor(e,r){T(this,te);T(this,re);T(this,q,A());T(this,ee,void 0);T(this,Y,0);T(this,O,null);C(this,q).v=_(e),V(this,ee,r)}get current(){return $effect.active()?N(()=>(ce(this,Y)._++,C(this,Y)===1&&J(this,te,_e).call(this,!0),()=>{qe().then(()=>{ce(this,Y)._--,C(this,Y)===0&&J(this,re,be).call(this)})})):C(this,Y)===0&&(J(this,te,_e).call(this,!1),J(this,re,be).call(this)),s(C(this,q))}}q=new WeakMap,ee=new WeakMap,Y=new WeakMap,O=new WeakMap,te=new WeakSet,_e=function(e){V(this,O,C(this,ee).call(this,r=>{m(C(this,q),_(r))},e)??null)},re=new WeakSet,be=function(){C(this,O)!==null&&(C(this,O).call(this),V(this,O,null))};new rt(null,(t,e)=>{function r(){t(document.activeElement)}if(r(),!!e)return document.addEventListener("focusin",r),document.addEventListener("focusout",r),()=>{document.removeEventListener("focusin",r),document.removeEventListener("focusout",r)}});function we(t){return typeof t=="function"}function ot(t){return we(t)?t():t}function nt(t,e){if(we(t)){const r=t;return r()??e??r()}return t??e??t}function at(t,e){switch(t){case"pre":{Ue(e);break}case"post":{N(e);break}}}function We(t,e,r,o={}){const{lazy:f=!1,once:a=!1}=o,l=Pe(()=>{let c=!0,n=!1,d;at(r,()=>{if(n){l();return}const g=t();let v;return(!f||!c)&&(d===void 0&&Array.isArray(g)&&(d=[]),v=$e(()=>e(g,d)),a&&(n=!0)),c=!1,d=g,()=>{we(v)&&v()}})});N(()=>l)}function Ce(t,e,r){We(t,e,"post",r)}Ce.pre=function(t,e,r){We(t,e,"pre",r)};function st(t,e,r={}){const{root:o,rootMargin:f="0px",threshold:a=.1,immediate:l=!0}=r;let c=A(_(l)),n;const d=X(()=>{const v=nt(t);return new Set(v?Array.isArray(v)?v:[v]:[])}),g=Pe(()=>{N(()=>{if(!(!s(d).size||!s(c))){n=new IntersectionObserver(e,{rootMargin:f,root:ot(o),threshold:a});for(const v of s(d))n.observe(v);return()=>{n==null||n.disconnect()}}})});return N(()=>g),{get isActive(){return s(c)},stop:g,pause(){m(c,!1)},resume(){m(c,!0)}}}var lt=B('<div class="h-fit card-root max-w-96 relative flex items-center mt-[var(--top-height)] has-[a:hover]:-mt-[calc(var(--push-up)_-_var(--top-height))] transition-all"><a href="/read/article" class="peer group block cursor-pointer h-full w-[calc(100%_-_2_*_var(--side-halfwidth))] bg-rock-50 rounded-bl-[var(--side-halfwidth)] border-2 border-r-0 border-[var(--border-color)] p-4 transition-all hover:pb-[calc(1rem_+_var(--push-up))] z-20 relative"><h1 class="text-center text-3xl font-serif bg-[linear-gradient(-45deg,rgb(var(--accent))_0%,var(--rock-600)_50%)] text-transparent bg-clip-text"> </h1> <p class="px-5 py-3 text-rock-700"><!><br> <span class="underline group-hover:no-underline text-[rgb(var(--accent))] mt-2 inline-flex font-bold items-center">Read document<ion-icon class="text-xl ml-1 group-hover:hidden" style="--ionicon-stroke-width: 48px;" name="arrow-redo-outline"></ion-icon><ion-icon class="text-xl ml-1 hidden group-hover:inline-block" name="arrow-redo"></ion-icon></span></p> <svg xmlns="http://www.w3.org/2000/svg" viewBox="-4 -3 8 8" class="absolute bottom-0 group-hover:bottom-[--push-up] group-hover:h-[calc(100%_-_var(--push-up))] transition-all w-full h-full opacity-15"><path class="stroke-steel-500" stroke-width="0.1" fill="none"></path></svg></a> <div class="absolute right-0 top-0 h-full w-[calc(2_*_var(--side-halfwidth))] bg-[rgb(var(--accent-light)/1)] rounded-b-[--side-halfwidth] border-2 border-t-0 border-[--border-color] peer-hover:h-[calc(100%_-_var(--push-down))] peer-hover:top-[--push-down] transition-all z-0"></div> <div class="absolute w-[calc(2_*_var(--side-halfwidth))] h-[--side-halfwidth] bg-rock-50 bottom-0 right-0 -z-10 rounded-br-[--side-halfwidth] border-b-2 border-[--border-color] transition-all"></div> <div class="absolute top-0 right-0 bg-[rgb(var(--accent-light)/1)] w-[calc(100%_-_2_*_var(--side-halfwidth))] -translate-y-full h-[--top-height] border-2 border-b-0 border-[--border-color] peer-hover:top-[--push-down] transition-all z-10"></div> <div class="absolute z-30 w-0.5 bg-[--border-color] h-[--push-down] right-[calc(2_*_var(--side-halfwidth))] top-0 translate-x-full"></div></div>',2);function it(t,e){oe(e,!0);let r=R(e,"color",3,"235 69 17"),o=R(e,"svgPath",3,""),f=R(e,"clientWidth",7,0),a=R(e,"clientHeight",7,0),l=R(e,"randomBump",3,!0);const c=16,n=32,d=16,g=16;let v=.2,D=X(()=>r().split(" ").map(W=>Number.parseInt(W)).map(W=>v*W+(1-v)*255).join(" "));const k=l()?Math.round(380+Math.random()*40):void 0;let x=A(null),y=A(null),S=A(!1);N(()=>{var w;!l()||!((w=e.room)!=null&&w[0])||s(S)||(m(x,_(Math.round((2*Math.random()-1)*Math.max(0,e.room[0]-f())/2))),m(S,!0))});let b=A(!1);N(()=>{var w;!l()||!((w=e.room)!=null&&w[1])||s(b)||(m(y,_(Math.round(Math.random()*Math.max(0,e.room[1]-g-a())))),m(b,!0))});function p(){m(S,!1),m(b,!1)}var I=lt(),j=H(I),G=H(j),Z=H(G),u=i(i(G,!0)),h=H(u);Ke(h,()=>e.description);var E=i(i(u,!0)),P=H(E);return K(()=>{Q(I,"style",`
  --border-color: var(--rock-500);
  --push-up: ${c}px;
  --push-down: ${n}px;
  --side-halfwidth: ${d}px;
  --top-height: ${g}px;
  
  --accent: ${r()??""}; 
  --accent-light: ${s(D)??""}; 

  max-width: ${k??""}px; 
  transform: translate(${s(x)??""}px, ${s(y)??""}px); 
  ${e.style??""}`),Me(Z,e.title),Q(P,"d",o())}),$(I,"clientWidth",w=>f(w)),$(I,"clientHeight",w=>a(w)),L(t,I),ne({recalculateBumps:p})}var ct=B('<div class="w-full flex justify-center"><!></div>'),dt=B("<div></div>");function je(t,e){oe(e,!0);let r=R(e,"class",3,""),o=_({}),f=_({}),a=[];function l(){a.forEach(n=>n.recalculateBumps())}var c=dt();return Ie(c,73,()=>e.cards,De,(n,d,g)=>{var v=ct(),D=H(v),k=X(()=>[o[M(g)],f[M(g)]]);le(it(D,{get title(){return M(d).title},get description(){return M(d).description},svgPath:"M 0 0 L 2 -2 L 3 -2 L 3 2 L 1 4 L 0 4 L 0 0 L 1 0 L 1 4 L 1 4 L 1 0 M 3 -2 L 1 0 M -2 3 L -3 1 L -2 0 L -1 1 L -2 3 M -2 3 L -2.273 1.39 L -3 1 M -2.273 1.388 L -1 1 M -2.273 1.389 L -2 0",get color(){return M(d).color},get room(){return s(k)}}),(x,y)=>a[y]=x,x=>a==null?void 0:a[x],()=>[M(g)]),$(v,"clientWidth",x=>o[M(g)]=x),$(v,"clientHeight",x=>f[M(g)]=x),L(n,v)}),K(()=>He(c,`grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 justify-items-center gap-5 px-5 ${r()??""}`)),L(t,c),ne({recalculateBumps:l})}var ut=B('<div><div class="absolute w-[300%] h-4 left-1/2 top-1/2"></div></div>');function F(t,e){let r=R(e,"class",3,""),o=A(0),f=A(0),a=X(()=>Math.sqrt(s(o)**2+s(f)**2)/2);var l=ut(),c=H(l);K(()=>{He(l,`w-full max-w-96 h-72 bg-rock-100 rounded relative overflow-hidden ${r()??""}`),Q(c,"style",`
  --crossLen: ${s(a)??""}px;
  transform: translate(-50%, -50%) rotate(-45deg) translate(0, 0);
  animation: slideacross 1s linear infinite, delay-animation 2s linear infinite;
  box-shadow: 0 0 50px 30px #fff;
  background-color: #fcfcfb;
  `)}),$(l,"clientWidth",n=>m(o,n)),$(l,"clientHeight",n=>m(f,n)),L(t,l)}var ht=B('<div class="py-10 text-center"><a href="/documents/all" class="inline-block px-4 py-2 border-2 rounded border-stone-600 text-text text-xl bg-stone-100 underline hover:no-underline hover:bg-stone-200 active:bg-stone-300">See All</a></div>'),ft=B('<div class="absolute bottom-0 -z-50 h-[30vh] w-full"></div>'),vt=B(`<div class="text-center text-red-500 px-6 font-bold text-lg">Something unexpected happened. Sorry for the inconvenience and please try
    again later.</div>`),gt=B('<div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 justify-items-center gap-5 px-5"><!> <!> <!> <!></div>'),mt=B('<div class="h-14"></div>'),pt=B('<h1 class="text-3xl text-stone-600 font-sans p-8 pt-14 font-bold">Latest Guidance Documents</h1> <!> <!> <!> <!>',1);function _t(t,e){oe(e,!0);const r=Se("PAGE_SIZE");let o=R(e,"showingAll",7,!1),f=A(_(Promise.resolve()));const a=_([]);m(f,_(ge(a,r)));function l(b=!0){o(!0),m(g,!1),d.resume(),b&&history.pushState({showingAll:!0},"","/documents/all"),m(f,_(ge(a,r)))}let c=A(void 0),n=A(!1);const d=st(()=>s(c),b=>{const p=b[0];p&&m(n,_(p.isIntersecting))});let g=A(!1);Ce(()=>s(n),b=>{const p=a.length;!s(g)&&b&&m(f,_(ge(a,r).then(()=>{a.length<p+r&&(m(g,!0),d.pause())})))}),history.replaceState({showingAll:o()},"",document.location.href),window.addEventListener("popstate",b=>{var p;(p=b.state)!=null&&p.showingAll?l(!1):(o(!1),a.splice(r))});var v=pt(),D=U(v),k=i(i(D,!0));je(k,{get cards(){return a}});var x=i(i(k,!0));se(x,()=>!o(),b=>{var p=ht(),I=H(p);I.__click=tt(l),L(b,p)});var y=i(i(x,!0));pe(y,()=>s(f),b=>{var p=gt(),I=H(p);F(I,{});var j=i(i(I,!0));F(j,{class:"hidden md:block"});var G=i(i(j,!0));F(G,{class:"hidden xl:block"});var Z=i(i(G,!0));F(Z,{class:"hidden 2xl:block"}),L(b,p)},b=>{var p=xe(),I=U(p);se(I,o,j=>{var G=ft();le(G,Z=>m(c,_(Z)),()=>s(c)),L(j,G)}),L(b,p)},b=>{var p=vt();L(b,p)});var S=i(i(y,!0));se(S,o,b=>{var p=mt();L(b,p)}),L(t,v),ne()}Be(["click"]);var bt=B('<button type="button" class="px-3 py-1 border-2 rounded border-[--accent] text-[--accent] font-bold bg-[--accent-light] mx-2 focus:outline-none transition-shadow hover:bg-[--accent-med] svelte-1jigqm0"> </button>'),xt=B("Something went wrong. Please try again later",1),wt=B("loading...",1),yt=B('<div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 justify-items-center gap-5 px-5"><!> <!> <!> <!></div>'),kt=B('<h1 class="text-3xl text-stone-600 font-sans p-8 pt-14 font-bold">View documents of a specific tag</h1> <div class="tags-block text-nowrap overflow-x-scroll mb-0 py-3 border-y-2 border-rock-200 bg-rock-50 svelte-1jigqm0"><!></div> <div class="bg-[--accent-light] py-8 border-b-2 border-rock-200"><!></div> <!> <div class="text-center my-4"><a href="/documents/search" class="text-rock-600 text-xl underline hover:no-underline inline-flex items-center">For more results and search options<ion-icon class="text-3xl ml-1" name="arrow-forward-outline"></ion-icon></a></div>',3);function Lt(t,e){oe(e,!0);const r=Se("PAGE_SIZE");let o=A(_([]));const f=me("/documents/get_tagnames").then(u=>u.json()).then(u=>(m(o,_(u)),u));let a=A(0),l=A(_(Promise.resolve())),c=A(_([])),n;N(()=>{if(s(o).length<=s(a))return;const u=new URLSearchParams([["name",Qe(s(o))[s(a)].name],["l",r]]);m(l,_(me(`/documents/get_blogs_tag?${u.toString()}`).then(h=>h.json()).then(h=>{const E=h.map(({title:P,description:w,accent:W,thumbnail:z})=>({title:P,description:w,color:W,svgPath:z}));return m(c,_(E)),n.recalculateBumps(),E})))});function d(u,h){return u.split(" ").map(P=>Number.parseInt(P)).map(P=>h*P+(1-h)*255).join(" ")}function g(u,h){return u.split(" ").map(P=>Number.parseInt(P)).map(P=>h*P).join(" ")}let v={x:0,y:0};const D=Ae(document,"mousemove",u=>{const h=u;v={x:h.clientX,y:h.clientY}});Ee(D);let k,x=0;const y=Ae(document,"wheel",u=>{const h=u,E=k.getBoundingClientRect();if(!(k.scrollWidth<=k.clientWidth)&&!(h.deltaY===0||h.deltaX!==0)&&v.y>E.y&&v.y<E.y+E.height){if(u.preventDefault(),h.deltaY>0)x+=Math.min(h.deltaY,k.scrollWidth-(E.width+x));else if(h.deltaY<0)x+=Math.max(h.deltaY,-x);else return;k.scroll({left:x,behavior:"smooth"})}},{passive:!1});Ee(y);var S=kt(),b=U(S),p=i(i(b,!0));le(p,u=>k=u,()=>k);var I=H(p);pe(I,()=>f,u=>{var h=wt();L(u,h)},u=>{var h=xe(),E=U(h);Ie(E,65,()=>s(o),De,(P,w,W)=>{var z=bt();const Ge=X(()=>d(M(w).color,.2)),ze=X(()=>d(M(w).color,.4)),Re=X(()=>g(M(w).color,.7));z.__mouseup=()=>m(a,_(M(W))),z.__focusin=()=>m(a,_(M(W)));var Ye=H(z);K(()=>{Q(z,"style",`--accent: rgb(${M(w).color??""}); --accent-light: rgb(${s(Ge)??""}); --accent-med: rgb(${s(ze)??""}); --accent-dark: rgb(${s(Re)??""});`),et(z,"active",M(W)===s(a)),Me(Ye,M(w).name)}),L(P,z)}),L(u,h)},u=>{var h=xt();L(u,h)});var j=i(i(p,!0));K(()=>Q(j,"style",`--accent-light: rgb(${(s(o)[s(a)]?d(s(o)[s(a)].color,.1):"255 255 255")??""});`));var G=H(j);le(je(G,{get cards(){return s(c)}}),u=>n=u,()=>n);var Z=i(i(j,!0));pe(Z,()=>s(l),u=>{var h=yt(),E=H(h);F(E,{});var P=i(i(E,!0));F(P,{class:"hidden md:block"});var w=i(i(P,!0));F(w,{class:"hidden xl:block"});var W=i(i(w,!0));F(W,{class:"hidden 2xl:block"}),L(u,h)}),L(t,S),ne()}Be(["mouseup","focusin"]);var At=B('<h1 class="text-center text-5xl text-stone-600 font-bold font-serif py-14">Guidance Documents</h1> <!> <!>',1);function ge(t,e){console.log(`Fetching ${e} more cards...`);const r=t.length/e;return me(`/documents/get_latest?p=${r}&l=${e}`).then(o=>o.json()).then(o=>{const f=o.map(({title:a,description:l,accent:c,thumbnail:n})=>({title:a,description:l,color:c,svgPath:n}));t.push(...f)})}function Et(t,e){oe(e,!0),Ve("PAGE_SIZE",6);let o=A(_(window.location.pathname.startsWith("/documents/all")));var f=At(),a=U(f),l=i(i(a,!0));_t(l,{get showingAll(){return s(o)},set showingAll(n){m(o,_(n))}});var c=i(i(l,!0));se(c,()=>!s(o),n=>{var d=xe(),g=U(d);Lt(g,{}),L(n,d)}),L(t,f),ne()}Je(Et,{target:document.getElementById("app")});
